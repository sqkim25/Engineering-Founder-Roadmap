<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Logic 0 ‚Äì Level 6</title>

  <!-- Basic layout styles -->
  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
                   sans-serif;
      line-height: 1.5;
      margin: 0;
      padding: 0;
      background: #f5f5f5;
    }

    header {
      background: #222;
      color: #fff;
      padding: 1rem 1.5rem;
    }

    header h1 {
      margin: 0;
      font-size: 1.6rem;
    }

    main {
      max-width: 900px;
      margin: 1.5rem auto 3rem;
      padding: 0 1rem 2rem;
      background: #fff;
      box-shadow: 0 0.5rem 1rem rgba(0,0,0,0.08);
      border-radius: 8px;
    }

    section {
      margin-bottom: 2rem;
    }

    h2 {
      margin-top: 1.5rem;
      margin-bottom: 0.5rem;
      font-size: 1.3rem;
    }

    h3 {
      margin-top: 1rem;
      margin-bottom: 0.4rem;
      font-size: 1.1rem;
    }

    .note {
      font-size: 0.9rem;
      color: #555;
      margin-bottom: 0.8rem;
    }

    .problem-group {
      border-top: 1px solid #eee;
      padding-top: 1.25rem;
      margin-top: 1.25rem;
    }

    .problem-group:first-of-type {
      border-top: none;
      padding-top: 0;
      margin-top: 0.5rem;
    }

    .latex-input {
      width: 100%;
      min-height: 70px;
      padding: 0.5rem;
      font-family: "Fira Code", "JetBrains Mono", Menlo, Monaco,
                   Consolas, "Courier New", monospace;
      font-size: 0.95rem;
      border-radius: 4px;
      border: 1px solid #ccc;
      box-sizing: border-box;
      resize: vertical;
      margin-bottom: 0.5rem;
    }

    .rendered-output {
      min-height: 2rem;
      padding: 0.5rem;
      border-radius: 4px;
      border: 1px dashed #ccc;
      background: #fafafa;
      margin-bottom: 0.5rem;
      text-align: center;
    }

    .rendered-output mjx-container {
      display: inline-block;
      margin-left: auto;
      margin-right: auto;
    }

    .controls {
      display: flex;
      justify-content: flex-end;
      gap: 0.5rem;
      margin-bottom: 0.3rem;
    }

    .copy-btn {
      padding: 0.3rem 0.7rem;
      border-radius: 4px;
      border: none;
      cursor: pointer;
      background: #333;
      color: #fff;
      font-size: 0.9rem;
    }

    .copy-btn:active {
      transform: scale(0.97);
    }

    .copy-btn.copied::after {
      content: " ‚úì";
    }

    .canvas-wrapper {
      border: 1px solid #ccc;
      border-radius: 4px;
      overflow: hidden;
      background: #fff;
    }

    .canvas-block {
      margin-top: 0.75rem;
    }

    .note-canvas {
      display: block;
      width: 100%;
      height: 250px;
      touch-action: none; /* for better touch drawing */
    }

    .clear-canvas {
      margin-top: 0.4rem;
    }



  </style>

  <!-- MathJax for LaTeX rendering -->
  <script>
    window.MathJax = {
      tex: {
        packages: { "[+]": ["ams"] },
        inlineMath: [["\\(","\\)"], ["$","$"]],
        displayMath: [["\\[","\\]"], ["$$","$$"]]
      },
      svg: { fontCache: "global" }
    };
  </script>

  <script id="MathJax-script"
          src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"
          async></script>
</head>
<body>
  <header>
    <h1>Logic 0 ‚Äì Level 6 Problems</h1>
  </header>

<main>
  <section>
    <p class="note">
      Level 6 (<strong>Create</strong>) problems ask you to <em>design or invent</em>
      new notation, examples, structures, and mini-theories using the tools from
      <code>0logic.pdf</code>. Use the LaTeX notes and canvas under each group to plan and refine your constructions.
    </p>
  </section>

  <!-- 1. Logical Form & Negation ‚Äì Designing Your Own Mini-Calculus -->
  <section class="problem-group" id="group-1">
    <h2>1. Logical Form &amp; Negation ‚Äì Designing Your Own Mini-Calculus</h2>

    <p><strong>(C1.1 ‚Äì Custom Shorthand System)</strong><br>
      Design a small ‚Äúproof shorthand‚Äù system for everyday logical statements modeled on the notations in the PDF.
    </p>
    <ol>
      <li>
        Choose at least three English patterns (e.g. ‚ÄúIf \(P\) then \(Q\)‚Äù, ‚Äú\(P\) only if \(Q\)‚Äù, ‚Äú\(P\) iff \(Q\)‚Äù, ‚Äútherefore‚Äù, ‚Äúnot‚Äù) and invent your own symbols or abbreviations for them.
      </li>
      <li>
        Write down <strong>translation rules</strong> between your system and the one in the notes
        \((\Rightarrow, \Leftarrow, \Leftrightarrow, \therefore, \neg)\).
      </li>
      <li>
        Create <strong>three short arguments</strong> written only in your shorthand, and then translate them back into the notation of the PDF.
      </li>
      <li>
        Decide one <em>design principle</em> your system respects (e.g. minimal ink, readability, resemblance to English) and briefly justify your choices in light of that principle.
      </li>
    </ol>

    <p><strong>(C1.2 ‚Äì Negation Design Challenge)</strong><br>
      Invent a uniform ‚Äúslash notation‚Äù for negating <strong>any</strong> binary relation symbol you like.
    </p>
    <ol>
      <li>
        Start with at least three binary relations (e.g. ‚Äú\(=\)‚Äù, ‚Äú\(\in\)‚Äù, ‚Äú\(\subseteq\)‚Äù, ‚Äú&lt;‚Äù on \(\mathbb{N}\)).
      </li>
      <li>
        Propose a consistent rule for how each negated symbol will look (similar to turning \(=\) into \(\neq\), \(\in\) into \(\notin\)).
      </li>
      <li>
        Build <strong>five example statements</strong> and their negations using your symbols.
      </li>
      <li>
        Explain how your design makes it visually obvious which part is being negated and why that‚Äôs helpful in longer derivations.
      </li>
    </ol>

    <!-- Notes + drawing for group 1 -->
    <div class="group-notes">
      <h3>Notes for Group 1</h3>
      <div class="note">Type \\ quickly to open the LaTeX snippet app on the note.</div>
      <textarea class="latex-input"
        placeholder="Design your shorthand (&rArr;, &therefore, negation slashes), and test with example arguments."></textarea>
      <div class="rendered-output"></div>
      <div class="controls">
        <button class="copy-btn">Copy problems + notes</button>
      </div>
    </div>
    <div class="canvas-block">
      <div class="note">Use to sketch symbol ideas and visual negation designs.</div>
      <div class="canvas-wrapper">
        <canvas class="note-canvas"></canvas>
      </div>
      <button class="copy-btn clear-canvas">Clear drawing</button>
    </div>
  </section>

  <!-- 2. Sets & Extensionality ‚Äì Creating Representations -->
  <section class="problem-group" id="group-2">
    <h2>2. Sets &amp; Extensionality ‚Äì Creating Representations</h2>

    <p><strong>(C2.1 ‚Äì New Encoding of Finite Sets)</strong><br>
      Create an alternative way to <em>represent</em> finite sets of natural numbers on paper or as strings.
    </p>
    <ol>
      <li>
        Specify a concrete encoding scheme (for example: ‚Äúwrite them as sorted lists without braces, separated by semicolons‚Äù or something more creative).
      </li>
      <li>
        Define precisely what it means for two encodings to represent the <strong>same set</strong>, tying your notion to extensionality.
      </li>
      <li>
        Prove that your encoding satisfies:
        <ul>
          <li>Every finite subset of \(\mathbb{N}\) has at least one encoding.</li>
          <li>Two encodings represent the same set <strong>iff</strong> they represent exactly the same elements.</li>
        </ul>
      </li>
      <li>
        As a test, encode three specific sets in both standard set notation and your new representation, and check equality using your rules.
      </li>
    </ol>

    <p><strong>(C2.2 ‚Äì Extensionality in a New Context)</strong><br>
      Invent a context outside pure math (e.g. playlist of songs, team rosters, ‚Äúshopping cart‚Äù) and reinterpret the extensionality principle there.
    </p>
    <ol>
      <li>Define what the ‚Äúelements‚Äù and ‚Äúsets‚Äù are in your context.</li>
      <li>
        State an <strong>extensionality principle</strong> in that language (e.g. ‚ÄúTwo playlists are the same iff they contain exactly the same songs, regardless of order or duplicates‚Äù).
      </li>
      <li>
        Give one nontrivial example where this principle identifies two <em>different-looking</em> descriptions as ‚Äúthe same object‚Äù.
      </li>
      <li>
        Create a short argument or scenario in that context which <em>depends</em> on using extensionality correctly.
      </li>
    </ol>

    <!-- Notes + drawing for group 2 -->
    <div class="group-notes">
      <h3>Notes for Group 2</h3>
      <div class="note">Type \\ quickly to open the LaTeX snippet app on the note.</div>
      <textarea class="latex-input"
        placeholder="Specify your encoding, prove soundness/completeness, then reinterpret extensionality in a real-world setting."></textarea>
      <div class="rendered-output"></div>
      <div class="controls">
        <button class="copy-btn">Copy problems + notes</button>
      </div>
    </div>
    <div class="canvas-block">
      <div class="note">Use to visualize encodings or playlist/roster examples.</div>
      <div class="canvas-wrapper">
        <canvas class="note-canvas"></canvas>
      </div>
      <button class="copy-btn clear-canvas">Clear drawing</button>
    </div>
  </section>

  <!-- 3. Adjoining Elements & Building Finite Sets -->
  <section class="problem-group" id="group-3">
    <h2>3. Adjoining Elements &amp; Building Finite Sets</h2>

    <p><strong>(C3.1 ‚Äì Adjoin-Based Construction System)</strong><br>
      Using only the empty set \(\varnothing\) and the operation \(A;t = A\cup\{t\}\), design a <strong>recipe language</strong> for constructing finite sets.
    </p>
    <ol>
      <li>Define what counts as a ‚Äúrecipe‚Äù (e.g. a finite sequence of instructions ‚Äúadjoin \(t_1\), then \(t_2\), ‚Ä¶‚Äù).</li>
      <li>Specify how to interpret any valid recipe as a resulting set.</li>
      <li>Show that every finite set \(\{a_1,\dots,a_n\}\) can be produced by some recipe starting from \(\varnothing\).</li>
      <li>
        Show that any two recipes that mention exactly the same elements (possibly in different orders, with repetitions) produce the <strong>same</strong> final set.
      </li>
      <li>
        <em>(Optional, harder)</em> Suggest a rule for recognizing when two recipes <em>must</em> produce the same set without explicitly computing them.
      </li>
    </ol>

    <p><strong>(C3.2 ‚Äì ‚ÄúCanonical Recipe‚Äù Choice)</strong><br>
      Design a rule that, given any finite set of distinct symbols \(\{a_1,\dots,a_n\}\), picks a <strong>canonical adjoin recipe</strong> for building it from \(\varnothing\).
    </p>
    <ol>
      <li>State your rule precisely (e.g. ‚Äúalways adjoin elements in alphabetical order‚Äù).</li>
      <li>Explain why your rule yields exactly <em>one</em> recipe for each finite set.</li>
      <li>Create five example finite sets and write down their canonical recipes.</li>
      <li>Briefly argue how this gives a <em>one-to-one</em> correspondence between finite sets and your canonical recipes.</li>
    </ol>

    <!-- Notes + drawing for group 3 -->
    <div class="group-notes">
      <h3>Notes for Group 3</h3>
      <div class="note">Type \\ quickly to open the LaTeX snippet app on the note.</div>
      <textarea class="latex-input"
        placeholder="Formalize recipes, prove every finite set arises, then design your canonical-order rule."></textarea>
      <div class="rendered-output"></div>
      <div class="controls">
        <button class="copy-btn">Copy problems + notes</button>
      </div>
    </div>
    <div class="canvas-block">
      <div class="note">Use for trees of recipes starting from ‚àÖ and merging at the same set.</div>
      <div class="canvas-wrapper">
        <canvas class="note-canvas"></canvas>
      </div>
      <button class="copy-btn clear-canvas">Clear drawing</button>
    </div>
  </section>

  <!-- 4. Subsets, Power Sets, & Families ‚Äì Designing Structures -->
  <section class="problem-group" id="group-4">
    <h2>4. Subsets, Power Sets, &amp; Families ‚Äì Designing Structures</h2>

    <p><strong>(C4.1 ‚Äì Your Own ‚ÄúPower Diagram‚Äù)</strong><br>
      Take a small set \(X = \{a,b,c\}\). Design a visual diagram (not necessarily a Hasse diagram) that:
    </p>
    <ol>
      <li>Displays <strong>all</strong> elements of \(\mathcal{P}(X)\).</li>
      <li>Makes the subset relation \(\subseteq\) visually apparent (e.g. via arrows, nesting, grouping, or color coding).</li>
      <li>Add a short legend explaining how to read subset relations off your picture.</li>
      <li>
        Then <strong>generalize</strong> your design: describe (in words) how your diagram style would extend to sets of size 4 or 5.
      </li>
    </ol>

    <p><strong>(C4.2 ‚Äì Custom Family with Target Properties)</strong><br>
      Construct a family \(\mathcal{F}\) of subsets of \(\{1,2,3,4,5\}\) that satisfies all of:
    </p>
    <ol>
      <li>No two distinct sets in \(\mathcal{F}\) are comparable by \(\subseteq\).</li>
      <li>Every element of \(\{1,2,3,4,5\}\) appears in <strong>at least two</strong> sets in \(\mathcal{F}\).</li>
      <li>\(\bigcup \mathcal{F} = \{1,2,3,4,5\}\).</li>
      <li>
        Once you have a candidate, write a short explanation checking each property systematically.
      </li>
      <li>Propose a way to modify your construction to work on \(\{1,\dots,6\}\) as well.</li>
    </ol>

    <p><strong>(C4.3 ‚Äì Designing Extreme Unions &amp; Intersections)</strong><br>
      Create two infinite families of subsets of \(\mathbb{N}\), say \(\mathcal{A}\) and \(\mathcal{B}\), such that:
    </p>
    <ol>
      <li>\(\bigcup \mathcal{A} = \mathbb{N}\) but \(\bigcap \mathcal{A} = \varnothing\).</li>
      <li>\(\bigcap \mathcal{B} = \mathbb{N}\) but \(\bigcup \mathcal{B} \neq \mathbb{N}\).</li>
      <li>For each family, give a definition for its general member \(A_n\) or \(B_n\).</li>
      <li>Carefully explain how the union and intersection behave the way you want.</li>
    </ol>

    <!-- Notes + drawing for group 4 -->
    <div class="group-notes">
      <h3>Notes for Group 4</h3>
      <div class="note">Type \\ quickly to open the LaTeX snippet app on the note.</div>
      <textarea class="latex-input"
        placeholder="Sketch your power-diagram idea, build a Sperner-like family F, then design tails/cores families ùíú, ùíù."></textarea>
      <div class="rendered-output"></div>
      <div class="controls">
        <button class="copy-btn">Copy problems + notes</button>
      </div>
    </div>
    <div class="canvas-block">
      <div class="note">Use for power set diagrams and family-union/intersection behavior.</div>
      <div class="canvas-wrapper">
        <canvas class="note-canvas"></canvas>
      </div>
      <button class="copy-btn clear-canvas">Clear drawing</button>
    </div>
  </section>

  <!-- 5. Ordered Pairs, Tuples, & Sequences ‚Äì Creating Encodings -->
  <section class="problem-group" id="group-5">
    <h2>5. Ordered Pairs, Tuples, &amp; Sequences ‚Äì Creating Encodings</h2>

    <p><strong>(C5.1 ‚Äì Alternative Ordered Pair Definition)</strong><br>
      Invent your own set-theoretic definition of an ordered pair \(\langle x,y\rangle\) using only sets (not Kuratowski‚Äôs).
    </p>
    <ol>
      <li>
        Give a concrete formula or description for \(\langle x,y\rangle\) as some combination of \(\{x\},\{y\},\{x,y\}\), etc.
      </li>
      <li>
        Prove (or outline a proof) that your definition satisfies
        \[
          \langle x,y\rangle = \langle u,v\rangle \iff x=u \text{ and } y=v.
        \]
      </li>
      <li>Compare your encoding to Kuratowski‚Äôs: list one advantage and one disadvantage of your approach.</li>
    </ol>

    <p><strong>(C5.2 ‚Äì Sequence-as-Set Construction)</strong><br>
      Design a scheme for encoding any finite sequence \(\langle x_1,\dots,x_n\rangle\) as a <em>single set</em> using ordered pairs and natural numbers.
    </p>
    <ol>
      <li>
        Specify how you‚Äôll use indices (e.g. encode as a set of pairs \(\{\langle 1,x_1\rangle,\dots,\langle n,x_n\rangle\}\)).
      </li>
      <li>
        Prove that two encodings represent the same sequence <strong>iff</strong> they agree at every position (so your encoding respects order and length).
      </li>
      <li>Explain how initial segments of sequences appear in your encoding.</li>
      <li>Give a concrete example: encode \(\langle a,b,a\rangle\) and reconstruct it from your encoding.</li>
    </ol>

    <!-- Notes + drawing for group 5 -->
    <div class="group-notes">
      <h3>Notes for Group 5</h3>
      <div class="note">Type \\ quickly to open the LaTeX snippet app on the note.</div>
      <textarea class="latex-input"
        placeholder="Propose your pair encoding, prove uniqueness, then design the sequence-as-set scheme with indices."></textarea>
      <div class="rendered-output"></div>
      <div class="controls">
        <button class="copy-btn">Copy problems + notes</button>
      </div>
    </div>
    <div class="canvas-block">
      <div class="note">Use for nesting diagrams of sets representing pairs and sequences.</div>
      <div class="canvas-wrapper">
        <canvas class="note-canvas"></canvas>
      </div>
      <button class="copy-btn clear-canvas">Clear drawing</button>
    </div>
  </section>

  <!-- 6. Cartesian Products & Relations ‚Äì Designing Examples & Taxonomies -->
  <section class="problem-group" id="group-6">
    <h2>6. Cartesian Products &amp; Relations ‚Äì Designing Examples &amp; Taxonomies</h2>

    <p><strong>(C6.1 ‚Äì Relational Zoo)</strong><br>
      On the set \(A = \{0,1,2,3\}\), design <strong>six different relations</strong>
      \(R_1,\dots,R_6 \subseteq A^2\) so that:
    </p>
    <ul>
      <li>One is: reflexive, symmetric, transitive.</li>
      <li>One is: reflexive, not symmetric, not transitive.</li>
      <li>One is: symmetric, not reflexive, not transitive.</li>
      <li>One is: transitive, not reflexive, not symmetric.</li>
      <li>One is: reflexive &amp; transitive but not symmetric.</li>
      <li>One breaks all three (none of reflexive/symmetric/transitive).</li>
    </ul>
    <p>For each relation:</p>
    <ol>
      <li>Write it as an explicit set of ordered pairs.</li>
      <li>Provide a short justification of which properties it has and which it fails.</li>
    </ol>

    <p><strong>(C6.2 ‚Äì Designing Relations on a Product)</strong><br>
      Let \(A = \mathbb{N}\) and consider \(A^2\). Construct a relation \(R\) on \(A^2\) (so a subset of \(A^2\times A^2\)) that captures some geometric or combinatorial idea (e.g. ‚Äúsame sum‚Äù, ‚Äúsame first coordinate‚Äù, ‚Äúdistance 1 apart‚Äù).
    </p>
    <ol>
      <li>Define \(R\) formally using ordered pairs.</li>
      <li>Analyze whether \(R\) is reflexive, symmetric, transitive.</li>
      <li>
        If it fails to be an equivalence relation, propose a modification of your definition that <em>is</em> an equivalence relation, and justify.
      </li>
    </ol>

    <!-- Notes + drawing for group 6 -->
    <div class="group-notes">
      <h3>Notes for Group 6</h3>
      <div class="note">Type \\ quickly to open the LaTeX snippet app on the note.</div>
      <textarea class="latex-input"
        placeholder="Populate your 'zoo' R‚ÇÅ‚Ä¶R‚ÇÜ, then design a relation on A¬≤ like same-sum and tweak into an equivalence if needed."></textarea>
      <div class="rendered-output"></div>
      <div class="controls">
        <button class="copy-btn">Copy problems + notes</button>
      </div>
    </div>
    <div class="canvas-block">
      <div class="note">Use for tables or graphs of relations on {0,1,2,3} and on A¬≤.</div>
      <div class="canvas-wrapper">
        <canvas class="note-canvas"></canvas>
      </div>
      <button class="copy-btn clear-canvas">Clear drawing</button>
    </div>
  </section>

  <!-- 7. Functions & Operations ‚Äì Creating & Restricting Maps -->
  <section class="problem-group" id="group-7">
    <h2>7. Functions &amp; Operations ‚Äì Creating &amp; Restricting Maps</h2>

    <p><strong>(C7.1 ‚Äì Function Archetypes on \(\mathbb{Z}\))</strong><br>
      Construct four functions \(f,g,h,k : \mathbb{Z} \to \mathbb{Z}\) such that:
    </p>
    <ul>
      <li>\(f\) is injective but not surjective.</li>
      <li>\(g\) is surjective but not injective.</li>
      <li>\(h\) is bijective.</li>
      <li>\(k\) is neither injective nor surjective.</li>
    </ul>
    <p>For each:</p>
    <ol>
      <li>Give a simple explicit formula (e.g. \(f(n) = 2n\), but you must design all four yourself).</li>
      <li>Justify which category it falls into by analyzing preimages and images.</li>
      <li>Draw a tiny ‚Äúarrow diagram‚Äù for each using a few sample integers.</li>
    </ol>

    <p><strong>(C7.2 ‚Äì Create a Closed Substructure)</strong><br>
      Pick a familiar binary operation on \(\mathbb{Z}\) (e.g. addition or multiplication) and design a nontrivial subset \(B \subsetneq \mathbb{Z}\) that is closed under that operation.
    </p>
    <ol>
      <li>State the operation and your chosen subset \(B\).</li>
      <li>Prove \(B\) is closed under the operation.</li>
      <li>
        Show explicitly how the restriction of the operation becomes a binary operation on \(B\) in the sense of the PDF.
      </li>
      <li>
        Suggest a meaningful name or interpretation for the structure you‚Äôve created (e.g. ‚Äúeven numbers with addition‚Äù).
      </li>
    </ol>

    <p><strong>(C7.3 ‚Äì Custom n-ary Operation)</strong><br>
      Define your own <strong>3-ary operation</strong> \(T : A^3 \to A\) on some simple set \(A\) (e.g. integers, naturals, or a finite set).
    </p>
    <ol>
      <li>Give a formula or rule for \(T(x,y,z)\).</li>
      <li>
        Explore one interesting property you design for it (e.g. symmetry in certain arguments, associativity in a 3-ary sense, idempotence).
      </li>
      <li>
        Propose a small real-world or combinatorial interpretation (e.g. ‚Äútake majority vote of three bits‚Äù, ‚Äúmax of three numbers‚Äù), and tie it back to the set-theoretic definition.
      </li>
    </ol>

    <!-- Notes + drawing for group 7 -->
    <div class="group-notes">
      <h3>Notes for Group 7</h3>
      <div class="note">Type \\ quickly to open the LaTeX snippet app on the note.</div>
      <textarea class="latex-input"
        placeholder="Propose formulas for f,g,h,k; design a closed subset B; then invent a 3-ary operation with a nice interpretation."></textarea>
      <div class="rendered-output"></div>
      <div class="controls">
        <button class="copy-btn">Copy problems + notes</button>
      </div>
    </div>
    <div class="canvas-block">
      <div class="note">Use for arrow diagrams and closure diagrams (like Cayley pictures).</div>
      <div class="canvas-wrapper">
        <canvas class="note-canvas"></canvas>
      </div>
      <button class="copy-btn clear-canvas">Clear drawing</button>
    </div>
  </section>

  <!-- 8. Equivalence Relations, Partitions & Orders ‚Äì Creating Structures -->
  <section class="problem-group" id="group-8">
    <h2>8. Equivalence Relations, Partitions &amp; Orders ‚Äì Creating Structures</h2>

    <p><strong>(C8.1 ‚Äì Build an Equivalence Relation from a Partition)</strong><br>
      On \(\mathbb{Z}\), invent a partition into at least <strong>three</strong> infinite subsets that differs from ‚Äúmod \(n\)‚Äù classes.
    </p>
    <ol>
      <li>Define your partition explicitly (e.g. by specifying a rule that tells which block an integer goes into).</li>
      <li>From your partition, <strong>define</strong> the corresponding equivalence relation \(R\) on \(\mathbb{Z}\).</li>
      <li>Prove \(R\) is reflexive, symmetric, and transitive.</li>
      <li>Show that the equivalence classes of \(R\) are exactly your partition blocks.</li>
    </ol>

    <p><strong>(C8.2 ‚Äì Invent a Nonstandard Order)</strong><br>
      On a simple set like \(\mathbb{Z}\) or \(\mathbb{N}\), design a weird but valid strict ordering relation \(\prec\) which is <em>not</em> the usual &lt;.
    </p>
    <ol>
      <li>Give a formal definition of \(\prec\) (e.g. something involving parity, absolute value, or a custom ranking rule).</li>
      <li>Prove that \(\prec\) satisfies the properties of a strict ordering (e.g. trichotomy and transitivity as in the notes).</li>
      <li>
        Draw a short initial segment of the order (say, show the order of the first 8‚Äì10 elements under your \(\prec\)) to illustrate how different it is from the usual order.
      </li>
    </ol>

    <p><strong>(C8.3 ‚Äì Hybrid Structure: Equivalence + Order)</strong><br>
      Create a structure on a set \(A\) where you have <strong>both</strong>:
    </p>
    <ul>
      <li>an equivalence relation \(\sim\) on \(A\), and</li>
      <li>an ordering relation \(\prec\) on the set of equivalence classes \(A/{\sim}\).</li>
    </ul>
    <ol>
      <li>Choose a concrete \(A\) (e.g. \(\mathbb{Z}\), \(\mathbb{Z}^2\), or finite sets).</li>
      <li>Define \(\sim\) and describe its equivalence classes.</li>
      <li>Define an order \(\prec\) on the set of classes (e.g. compare ‚Äúrepresentatives‚Äù in some way).</li>
      <li>Check that \(\prec\) is a strict order <em>on the classes</em>, not on individual elements.</li>
      <li>
        Give a short explanation of what this combined structure might model intuitively (e.g. ‚Äúgroup identical items, then sort the groups‚Äù).
      </li>
    </ol>

    <!-- Notes + drawing for group 8 -->
    <div class="group-notes">
      <h3>Notes for Group 8</h3>
      <div class="note">Type \\ quickly to open the LaTeX snippet app on the note.</div>
      <textarea class="latex-input"
        placeholder="Design a non-mod partition of ‚Ñ§, a strange strict order, then an equivalence+order combo on classes."></textarea>
      <div class="rendered-output"></div>
      <div class="controls">
        <button class="copy-btn">Copy problems + notes</button>
      </div>
    </div>
    <div class="canvas-block">
      <div class="note">Use for partition diagrams, strange orderings, and class-level order sketches.</div>
      <div class="canvas-wrapper">
        <canvas class="note-canvas"></canvas>
      </div>
      <button class="copy-btn clear-canvas">Clear drawing</button>
    </div>
  </section>
</main>


  <!-- Root for the React symbol popup -->
  <div id="symbol-popup-root"></div>

  <!-- React + ReactDOM + Babel (for JSX in this example) -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <!-- React + JSX: ONLY the popup component + showSymbolPopup -->
  <script type="text/babel" data-presets="env,react">
    // ---------- Symbol data (you can expand this later) ----------
    window.SYMBOLS = [];
    window.RECENT_SYMBOLS = [];

    // ---------- Simple search ----------
    function searchSymbols(symbols, query) {
      const q = query.trim().toLowerCase();

      const recentList = Array.isArray(window.RECENT_SYMBOLS)
        ? window.RECENT_SYMBOLS
        : [];
      const recentSet = new Set(recentList);

      // ---------- Case 1: empty query ‚Üí show recent first ----------
      if (!q) {
        const seen = new Set();
        const recent = [];
        const others = [];

        // 1) Put recents first, in recency order
        for (const latex of recentList) {
          const sym = symbols.find((s) => s.latex === latex);
          if (sym && !seen.has(sym.latex)) {
            recent.push(sym);
            seen.add(sym.latex);
          }
        }

        // 2) Then all other symbols, sorted by priority
        for (const s of symbols) {
          if (!seen.has(s.latex)) {
            others.push(s);
          }
        }

        others.sort((a, b) => (b.priority || 0) - (a.priority || 0));

        return [...recent, ...others].slice(0, 20);
      }

      // ---------- Case 2: non-empty query ‚Üí scoring with recency boost ----------
      return symbols
        .map((s) => {
          const haystack = [
            s.label,
            s.latex,
            ...(s.keywords || []),
            ...(s.categories || [])
          ].join(" ").toLowerCase();

          if (!haystack.includes(q)) return null;

          let score = s.priority || 0;

          // Strong boost if this is a recent symbol
          const recIndex = recentList.indexOf(s.latex);
          if (recIndex !== -1) {
            const recencyWeight = 1.0 + (recentList.length - recIndex) * 0.05;
            score += recencyWeight;
          }

          if (s.latex.toLowerCase().startsWith("\\" + q)) score += 0.7;
          if ((s.keywords || []).some((k) => k.toLowerCase() === q)) score += 0.5;
          if (s.label.toLowerCase() === q) score += 0.4;

          const idx = haystack.indexOf(q);
          if (idx >= 0) score += Math.max(0, 0.3 - idx / 50);

          return { s, score };
        })
        .filter(Boolean)
        .sort((a, b) => b.score - a.score)
        .map((x) => x.s)
        .slice(0, 20);
    }


    // ---------- React popup component ----------
    const SymbolPopup = ({ x, y, initialQuery = "", onSelect, onClose }) => {
        const [query, setQuery] = React.useState("");
        const [highlightIndex, setHighlightIndex] = React.useState(0);
        const containerRef = React.useRef(null);
        const inputRef = React.useRef(null);

        const results = React.useMemo(
          () => searchSymbols(window.SYMBOLS || [], query),
          [query]
        );

        React.useEffect(() => {
          if (inputRef.current) {
            setTimeout(() => inputRef.current.focus(), 0);
          }
        }, []);

      React.useEffect(() => {
        if (inputRef.current) {
          setTimeout(() => inputRef.current.focus(), 0);
        }
      }, []);

      React.useEffect(() => {
        function handleClickOutside(e) {
          if (!containerRef.current) return;
          if (!containerRef.current.contains(e.target)) {
            onClose();
          }
        }
        document.addEventListener("mousedown", handleClickOutside);
        return () => document.removeEventListener("mousedown", handleClickOutside);
      }, [onClose]);

      const handleKeyDown = (e) => {
        const count = results.length;
        if (e.key === "ArrowDown") {
          e.preventDefault();
          if (count === 0) return;
          setHighlightIndex((prev) => (prev + 1) % count);
        } else if (e.key === "ArrowUp") {
          e.preventDefault();
          if (count === 0) return;
          setHighlightIndex((prev) => (prev - 1 + count) % count);
        } else if (e.key === "Enter") {
          e.preventDefault();
          if (count === 0) return;
          onSelect(results[highlightIndex]);
        } else if (e.key === "Escape") {
          e.preventDefault();
          onClose();
        }
      };

      return (
        <div
          ref={containerRef}
          style={{
            position: "absolute",
            left: x,
            top: y,
            zIndex: 9999,
            minWidth: 260,
            maxWidth: 360,
            background: "#fff",
            border: "1px solid #ddd",
            borderRadius: 6,
            boxShadow: "0 8px 24px rgba(0,0,0,0.12)",
            padding: 8,
            fontFamily:
              'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif',
            fontSize: 13
          }}
        >
          <input
            ref={inputRef}
            value={query}
            onChange={(e) => {
              setQuery(e.target.value);
              setHighlightIndex(0);
            }}
            onKeyDown={handleKeyDown}
            placeholder="Search symbol or LaTeX‚Ä¶"
            style={{
              width: "100%",
              boxSizing: "border-box",
              padding: "4px 6px",
              marginBottom: 6,
              borderRadius: 4,
              border: "1px solid #ccc",
              outline: "none"
            }}
          />

          <div style={{ maxHeight: 260, overflowY: "auto" }}>
            {results.map((sym, idx) => (
              <div
                key={sym.latex + idx}
                style={{
                  display: "flex",
                  alignItems: "center",
                  padding: "4px 6px",
                  borderRadius: 4,
                  background: idx === highlightIndex ? "#eef3ff" : "transparent",
                  cursor: "pointer"
                }}
                onMouseDown={(e) => {
                  e.preventDefault();
                  onSelect(sym);
                }}
              >
                <span
                  style={{
                    width: 32,
                    textAlign: "center",
                    fontSize: 18,
                    marginRight: 6
                  }}
                >
                  {sym.label}
                </span>
                <div
                  style={{
                    display: "flex",
                    flexDirection: "column",
                    flex: 1,
                    overflow: "hidden"
                  }}
                >
                  <span
                    style={{
                      fontFamily: "monospace",
                      fontSize: 12,
                      whiteSpace: "nowrap",
                      overflow: "hidden",
                      textOverflow: "ellipsis"
                    }}
                  >
                    {sym.latex}
                  </span>
                  {sym.keywords && sym.keywords.length > 0 && (
                    <span
                      style={{
                        fontSize: 11,
                        color: "#777",
                        whiteSpace: "nowrap",
                        overflow: "hidden",
                        textOverflow: "ellipsis"
                      }}
                    >
                      {sym.keywords.slice(0, 4).join(", ")}
                    </span>
                  )}
                </div>
              </div>
            ))}

            {results.length === 0 && (
              <div
                style={{
                  padding: "4px 6px",
                  fontSize: 12,
                  color: "#888"
                }}
              >
                No matches
              </div>
            )}
          </div>
        </div>
      );
    };

    // ---------- Helper: show popup from vanilla JS ----------
    const popupRoot = ReactDOM.createRoot(
      document.getElementById("symbol-popup-root")
    );

    window.showSymbolPopup = function ({ x, y, initialQuery, onSelect }) {
      const handleSelect = (symbol) => {
        // --- Update recent list (per session, in-memory) ---
        if (!Array.isArray(window.RECENT_SYMBOLS)) {
          window.RECENT_SYMBOLS = [];
        }
        const arr = window.RECENT_SYMBOLS;
        const latex = symbol.latex;

        // Remove if already present
        const existingIndex = arr.indexOf(latex);
        if (existingIndex !== -1) {
          arr.splice(existingIndex, 1);
        }
        // Add to front
        arr.unshift(latex);
        // Keep list bounded (e.g. last 30 unique symbols)
        if (arr.length > 30) {
          arr.length = 30;
        }

        // Pass selection back to caller (inserts in textarea, etc.)
        onSelect(symbol);

        // Close popup
        popupRoot.render(null);
      };

      const handleClose = () => {
        popupRoot.render(null);
      };

      popupRoot.render(
        <SymbolPopup
          x={x}
          y={y}
          initialQuery={initialQuery}
          onSelect={handleSelect}
          onClose={handleClose}
        />
      );
    };

  </script>

  <!-- Plain JS: MathJax rendering, copy, canvas, backslash trigger -->
  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // Load symbols.json
      fetch("../../symbols.json")
        .then((res) => res.json())
        .then((data) => {
          window.SYMBOLS = Array.isArray(data) ? data : (data.symbols || []);
          console.log("Loaded symbols:", window.SYMBOLS.length);
        })
        .catch((err) => {
          console.error("Failed to load symbols.json", err);
          window.SYMBOLS = [];
        });

      function renderBlockTeX(textarea, outputElement) {
        const raw = textarea.value.trim();
        if (!raw) {
          if (outputElement) outputElement.innerHTML = "";
          return;
        }

        let tex = raw;
        const explicitDisplayOrEnv = /^(\$\$|\\\[|\\begin\{)/.test(raw);
        const looksMultiline = raw.includes("\\\\") || raw.includes("\n");

        if (!explicitDisplayOrEnv) {
          if (looksMultiline) {
            tex = "\\begin{gather*}\n" + raw + "\n\\end{gather*}";
          } else {
            tex = "\\[" + raw + "\\]";
          }
        }

        if (!outputElement) return;
        outputElement.textContent = tex;

        if (window.MathJax && MathJax.typesetPromise) {
          MathJax.typesetPromise([outputElement]).catch((err) =>
            console.error(err)
          );
        }
      }

      function insertAtCursor(textarea, text) {
        if (!textarea) return;
        const start = textarea.selectionStart != null ? textarea.selectionStart : textarea.value.length;
        const end   = textarea.selectionEnd != null ? textarea.selectionEnd : textarea.value.length;
        const value = textarea.value;

        textarea.value = value.slice(0, start) + text + value.slice(end);
        const newPos = start + text.length;

        textarea.focus();
        textarea.selectionStart = textarea.selectionEnd = newPos;
        textarea.dispatchEvent(new Event("input", { bubbles: true }));
      }

      // ---------- Notes textareas ----------
      const allTextareas = document.querySelectorAll(".latex-input");

      // ========================================================
      // Opens the popup based on the textarea cursor position
      // ========================================================
      function openPopupAtTextareaCursor(ta) {
        const rect = ta.getBoundingClientRect();
        const x = rect.left + window.scrollX + 40;
        const y = rect.top + window.scrollY + 20;

        const pos = ta.selectionStart != null ? ta.selectionStart : ta.value.length;
        const value = ta.value;

        let initialQuery = "";
        const lastBackslash = value.lastIndexOf("\\", pos - 1);
        if (lastBackslash !== -1 && lastBackslash < pos) {
          initialQuery = value.slice(lastBackslash + 1, pos);
        }

        if (window.showSymbolPopup) {
          window.showSymbolPopup({
            x,
            y,
            initialQuery,
            onSelect(symbol) {
              insertAtCursor(ta, symbol.latex);
            }
          });
        }
      }

      allTextareas.forEach((ta) => {
        // Live render on input
        ta.addEventListener("input", () => {
          const box = ta.closest(".group-notes");
          if (!box) return;
          const out = box.querySelector(".rendered-output");
          renderBlockTeX(ta, out);
        });

        let lastBackslashTime = 0;

        ta.addEventListener("keydown", (e) => {
          if (e.key === "\\") {
            const now = Date.now();

            // Rapid double press ‚Üí treat as shortcut
            if (now - lastBackslashTime < 250) {
              e.preventDefault(); // don't type this second "\"

              // üî• Remove the *previous* "\" that was just typed
              const pos = ta.selectionStart != null ? ta.selectionStart : ta.value.length;
              const value = ta.value;

              if (pos > 0 && value[pos - 1] === "\\") {
                ta.value = value.slice(0, pos - 1) + value.slice(pos);
                ta.selectionStart = ta.selectionEnd = pos - 1;
                // re-render after change
                ta.dispatchEvent(new Event("input", { bubbles: true }));
              }

              // Open the popup at the cursor
              openPopupAtTextareaCursor(ta);
              lastBackslashTime = 0; // reset
              return;
            }

            // First "\" ‚Üí let it type normally
            lastBackslashTime = now;
          }
        });

        // Optional: initial render
        const box = ta.closest(".group-notes");
        if (box) {
          const out = box.querySelector(".rendered-output");
          renderBlockTeX(ta, out);
        }
      });



      // ---------- Copy buttons ----------
      const noteGroups = document.querySelectorAll(".group-notes");
      noteGroups.forEach((group) => {
        const section  = group.closest(".problem-group");
        const textarea = group.querySelector(".latex-input");
        const button   = group.querySelector(".copy-btn");

        if (!button || !textarea || !section) return;

        button.addEventListener("click", async () => {
          const problems = Array.from(
            section.querySelectorAll(":scope > p")
          ).map((p) => p.textContent.trim());

          const problemBlock =
            "Problems:\n" +
            problems.map((t, i) => `${i + 1}. ${t}`).join("\n") +
            "\n\n";

          const latex = textarea.value.trim();
          const notesBlock = "Notes (LaTeX):\n" + latex + "\n";

          const combined = problemBlock + notesBlock;

          try {
            await navigator.clipboard.writeText(combined);
            button.classList.add("copied");
            setTimeout(() => button.classList.remove("copied"), 1200);
          } catch (err) {
            console.error("Clipboard error:", err);
            alert("Copy failed ‚Äì your browser may block clipboard access.");
          }
        });
      });

      // ---------- Drawing canvases ----------
      const canvases = document.querySelectorAll(".note-canvas");
      canvases.forEach((canvas) => {
        const ctx = canvas.getContext("2d");
        const clearBtn = canvas.closest(".canvas-block").querySelector(".clear-canvas");

        function resizeCanvas() {
          const rect = canvas.getBoundingClientRect();
          const dpr = window.devicePixelRatio || 1;

          canvas.width  = rect.width * dpr;
          canvas.height = rect.height * dpr;

          ctx.setTransform(1, 0, 0, 1, 0, 0);
          ctx.scale(dpr, dpr);

          ctx.lineCap = "round";
          ctx.lineJoin = "round";
          ctx.lineWidth = 2;
        }

        resizeCanvas();
        window.addEventListener("resize", resizeCanvas);

        let drawing = false;
        let lastX = 0;
        let lastY = 0;

        function getPos(evt) {
          const rect = canvas.getBoundingClientRect();
          if (evt.touches && evt.touches[0]) {
            return {
              x: evt.touches[0].clientX - rect.left,
              y: evt.touches[0].clientY - rect.top
            };
          } else {
            return {
              x: evt.clientX - rect.left,
              y: evt.clientY - rect.top
            };
          }
        }

        function startDraw(evt) {
          evt.preventDefault();
          drawing = true;
          const pos = getPos(evt);
          lastX = pos.x;
          lastY = pos.y;
        }

        function draw(evt) {
          if (!drawing) return;
          evt.preventDefault();
          const pos = getPos(evt);
          ctx.beginPath();
          ctx.moveTo(lastX, lastY);
          ctx.lineTo(pos.x, pos.y);
          ctx.stroke();
          lastX = pos.x;
          lastY = pos.y;
        }

        function endDraw(evt) {
          if (!drawing) return;
          evt.preventDefault();
          drawing = false;
        }

        canvas.addEventListener("mousedown", startDraw);
        canvas.addEventListener("mousemove", draw);
        window.addEventListener("mouseup", endDraw);

        canvas.addEventListener("touchstart", startDraw, { passive: false });
        canvas.addEventListener("touchmove", draw, { passive: false });
        canvas.addEventListener("touchend", endDraw, { passive: false });
        canvas.addEventListener("touchcancel", endDraw, { passive: false });

        if (clearBtn) {
          clearBtn.addEventListener("click", () => {
            const rect = canvas.getBoundingClientRect();
            ctx.clearRect(0, 0, rect.width, rect.height);
          });
        }
      });
    });
  </script>

</body>
</html>